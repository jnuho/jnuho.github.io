
- 템플릿 메소드 패턴
  - 서브 클래스에서 오버라이드
  - `protectded void hookMethod() {}`: 선택적으로 오버라이드
  - `public abstract void abstractMethod() {}`: 반드시 오버라이드
  
- 팩토리메소드 패턴
객체 생성방법을 결정하고, 그렇게 만들어진 오브젝트를 돌려주는 오브젝트

- 스프링 IOC
    - 빈 : 스프링이 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트
        - 스프링 컨테이너가 생성과 관계설정, 사용 등을 제어해주는 제어의 역전이 적용된 오브젝트
        - `@Bean` : 오브젝트 생성을 담당하는 IoC용 메소드에 추가
            - 빈의 이름 : getBean("메소드명"). @Bean 붙힌 메소드명
            - 빈의 클래스 : 빈 오브젝트를 어떤 클래스를 이용해서 만들지 정의
            - 빈의 의존 오브젝트 : 빈의 생성자나 수정자 메소드를 통해 의존 오브젝트 넣어줌
        - `@Configuration` 애플리케이션 컨텍스트 또는 빈팩토리가 사용할 설정정보
    - 빈팩토리 : 빈의 생성과 관계설정 제어 담당

- 자바 싱글톤 패턴
    - private 생성자 정의
    - 싱글톤 오브젝트 저장할 자신과 같은 타입의 스태틱 필드 정의
    - static factory method getInstance() 만들고, 호출되는 시점에서
    한번만 오브젝트가 만들어지게 함. 생성된 오브젝트는 스태틱 필드에 저장된다
    - 한번 오브젝트(싱글톤) 만들어지고 난 후에는 getInstance() 메소드로 이미 만들어져 있는
    스태틱 필드에 저장해둔 오브젝트를 넘겨줌
    
- 의존관계
    - A -> B
    런타임시 발생 하는 의존관계 (오브젝트 의존관계)
    Dependent object
    
- 의존관계 주입 (Dependency Injection)
    - 클래스 모델이나 코드에는 런타임 시점의 의존관계 X (인터페이스에만 의존)
    - 런타임 시점의 의존관계는 컨테이너나 팩토리 같은 제 3의 존재가 결정한다
    - 의존관계는 사용할 오브젝트에 대한 레퍼런스를 외부에서 제공(주입) 해줌으로써 만들어진다
    - DaoFactory : 두오브젝트 사이의 런타임 의존관계를 설정해주는 의존관계 주입 작업 주도
        IoC방식으로 오브젝트의 생성과 초기화, 제공 작업을 수행하는 컨테이너; DI 컨테이너
        
- 의존관계 검색과 주입
    - 런타임시에 의존관계를 결정
    - 의존관계를 맺는 방법이 외부로부터 주입이 아니라, 스스로 검색을 이용
    - dependency lookup
    
- 차이점
    - DI를 원하는 오브젝트는 먼저 자기 자신이 컨테이너가 관리하는 빈이 되어야 함
    - 의존관계 검색 방식에서는 검색하는 오브젝트는 자신이 스프링의 빈일 필요가 없음 e.g. UserDao
    - ConnectionMaker만 스프링빈이면 됨
    - 반면 의존성주입 시 UserDao와 ConnectionMaker 사이에 DI 적용하려면, UserDao도 컨테이너가 만드는 빈 오브젝트여야 함
    - DI방법을 좀더 선호. 다만 static 메소드인 main에서는 의존성 검색 필요
    - 사용자 요청을 받을 때 마다 이런식의 구현이 필요하지만, 스프링이 서블릿으로 제공
    - UserDao는 ConnectionMaker에만 의존

- 메소드를 이용한 DI
    - 수정자 메소드 setter
    - 일반 메소드

- XML을 이용한 설정

|자바 코드 설정정보 | XML 설정정보
---|---|---
빈 설정파일 | @Configuration | `<beans>`
빈 이름 | @Bean methodName() | `<bean id="methodName">`
빈 클래스 | return new BeanClass() | `class="a.b.c...BeanClass`


    - DaoFactory의 bean인 userDao와 makeConnection을 xml로 대체가능